"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=exports.AUmainNavContent=void 0;var _react=_interopRequireDefault(require("react"));var _propTypes=_interopRequireDefault(require("prop-types"));var _animate=_interopRequireDefault(require("@gov.au/animate"));var _linkList=_interopRequireDefault(require("@gov.au/link-list"));require("../css/styles.css");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}/**
 * A menu inside the AUmainNav
 *
 * @param  {array}  items            - The links in an array containing text, location and active status
 * @param  {string} linkComponent    - The component used for the link
 */var AUmainNavMenu=function AUmainNavMenu(_ref){var items=_ref.items,linkComponent=_ref.linkComponent;// Generate the menu
var GenerateMenu=function GenerateMenu(items){var menu=items.map(function(item){var link=item.active?{link:item.link,text:item.text,"aria-current":"page",li:{className:"active"}}:{link:item.link,text:item.text};// return the link, maybe with children
return link});return menu};// Create the menu with children
return _react["default"].createElement(_linkList["default"],{items:GenerateMenu(items),linkComponent:linkComponent})};AUmainNavMenu.propTypes={items:_propTypes["default"].arrayOf(_propTypes["default"].shape({link:_propTypes["default"].string,text:_propTypes["default"].node.isRequired,children:_propTypes["default"].array})).isRequired,linkComponent:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func])};AUmainNavMenu.defaultProps={linkComponent:"a"};// This value gets increased for each navigation component
var IDvalue=0;var AUmainNavContent=/*#__PURE__*/function(_React$PureComponent){_inherits(AUmainNavContent,_React$PureComponent);function AUmainNavContent(props){var _this;_classCallCheck(this,AUmainNavContent);_this=_possibleConstructorReturn(this,_getPrototypeOf(AUmainNavContent).call(this,props));var items=props.items,_props$className=props.className,className=_props$className===void 0?"":_props$className,children=props.children,linkComponent=props.linkComponent,onOpen=props.onOpen,afterOpen=props.afterOpen,onClose=props.onClose,afterClose=props.afterClose,attributeOptions=_objectWithoutProperties(props,["items","className","children","linkComponent","onOpen","afterOpen","onClose","afterClose"]);// Functions
_this.toggleClasses=_this.toggleClasses.bind(_assertThisInitialized(_this));_this.removeClass=_this.removeClass.bind(_assertThisInitialized(_this));_this.addClass=_this.addClass.bind(_assertThisInitialized(_this));_this.mainNavToggle=_this.mainNavToggle.bind(_assertThisInitialized(_this));_this.toggle=_this.toggle.bind(_assertThisInitialized(_this));_this.toggleAnimationState=function(){this.setState({animating:!this.state.animating})}.bind(_assertThisInitialized(_this));// Event listeners
_this.auFocusTrapListenerTop=_this.auFocusTrapListenerTop.bind(_assertThisInitialized(_this));_this.auFocusTrapListenerBottom=_this.auFocusTrapListenerBottom.bind(_assertThisInitialized(_this));_this.auKeyListener=_this.auKeyListener.bind(_assertThisInitialized(_this));// Variables
_this.state={closed:true,animating:false,expanded:false};// Increase the ID so it's unique for each instance
IDvalue+=1;_this.id="au-main-nav-".concat(IDvalue);return _this}/**
	 * Toggle an main navigation on click
	 *
	 * @param  {event object} event - The event object of the click
	 */_createClass(AUmainNavContent,[{key:"toggle",value:function toggle(event){event.preventDefault();// If the main menu is animating don't change toggle the menu
if(this.state.animating){return}// Toggle the menu's current state
this.setState({closed:!this.state.closed,expanded:!this.state.expanded,animating:true})}/**
	 * componentDidUpdate - Update the component when it changes
	 *
	 * @param {*} prevProps - The previous property values
	 * @param {*} prevState - The previous state values
	 */},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(prevState!==undefined&&this.state!==undefined&&this.state.closed!==prevState.closed){this.mainNavToggle(this.mainNavContent,this.props.speed,{onOpen:this.props.onOpen,afterOpen:this.props.afterOpen,onClose:this.props.onClose,afterClose:this.props.afterClose})}}/**
	 * IE8 compatible function for replacing classes on a DOM node
	 *
	 * @param  {object} element       - The DOM element we want to toggle classes on
	 * @param  {string} openingClass  - The firstClass you want to toggle on the DOM node
	 * @param  {string} closingClass  - The secondClass you want to toggle on the DOM node
	 */},{key:"toggleClasses",value:function toggleClasses(element,state,openingClass,closingClass){if(state==="opening"||state==="open"){var oldClass=openingClass||"au-main-nav__content--closed";var newClass=closingClass||"au-main-nav__content--open"}else{var oldClass=closingClass||"au-main-nav__content--open";var newClass=openingClass||"au-main-nav__content--closed"}this.removeClass(element,oldClass);this.addClass(element,newClass)}/**
	 * IE8 compatible function for removing a class
	 *
	 * @param  {object} element   - The DOM element we want to manipulate
	 * @param  {object} className - The name of the class to be removed
	 */},{key:"removeClass",value:function removeClass(element,className){if(element.classList){element.classList.remove(className)}else{element.className=element.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")}}/**
	 * IE8 compatible function for adding a class
	 *
	 * @param  {object} element   - The DOM element we want to manipulate
	 * @param  {object} className - The name of the class to be added
	 */},{key:"addClass",value:function addClass(element,className){if(element.classList){element.classList.add(className)}else{element.className=element.className+" "+className}}/**
	 * auFocusTrapListenerTop - What happens when the focus trap top gets focus
	 *
	 * @param {event} event - the event
	 */},{key:"auFocusTrapListenerTop",value:function auFocusTrapListenerTop(event){var focusContent=this.mainNavMenu.querySelectorAll("a, .au-main-nav__toggle");focusContent[focusContent.length-1].focus()}/**
	 * auFocusTrapListenerBottom - What happens when the focus trap bottom gets focus
	 *
	 * @param {event} event - the event
	 */},{key:"auFocusTrapListenerBottom",value:function auFocusTrapListenerBottom(event){var focusContent=this.mainNavMenu.querySelectorAll("a, .au-main-nav__toggle");focusContent[0].focus()}/**
	 * auKeyListener - What happens when a key gets pressed and the menu is open
	 *
	 * @param {event} event - the event
	 */},{key:"auKeyListener",value:function auKeyListener(event){// This should only close the menu when the menu is visibly open
var overlayOpen=window.getComputedStyle(this.mainNavOverlay).getPropertyValue("display");// Check the menu is open and visible and the escape key is pressed
if(event.keyCode===27&&overlayOpen==="block"){this.toggle(event)}}/**
	 * Toggle a mainNav element
	 *
	 * @param  {string}  element  - The toggle for the main nav
	 * @param  {integer} speed    - The speed in ms for the animation
	 *
	 */},{key:"mainNavToggle",value:function mainNavToggle(element,speed,callbacks){// stop event propagation
try{window.event.cancelBubble=true;event.stopPropagation()}catch(error){}// check this once
if(_typeof(callbacks)!="object"){callbacks={}}// Elements we modify
var menu=this.mainNavMenu;var overlay=this.mainNavOverlay;var closeButton=element.querySelector(".au-main-nav__toggle--close");var openButton=element.querySelector(".au-main-nav__toggle--open");var focustrapTop=element.querySelector(".au-main-nav__focus-trap-top");var focustrapBottom=element.querySelector(".au-main-nav__focus-trap-bottom");var closed=!this.state.closed;var state=closed?"opening":"";var menuWidth=menu.offsetWidth;// Functions
var ToggleClasses=this.toggleClasses;var AUkeyListener=this.auKeyListener;var AUfocusTrapListenerTop=this.auFocusTrapListenerTop;var AUfocusTrapListenerBottom=this.auFocusTrapListenerBottom;var ToggleAnimationState=this.toggleAnimationState;overlay.style.display="block";(function(menu){_animate["default"].animate.Toggle({element:menu,property:"left",openSize:0,closeSize:-1*menuWidth,speed:speed||250,prefunction:function prefunction(){// Set these value immediately for transitions
if(state==="opening"){menu.style.display="block";overlay.style.left=0;overlay.style.opacity=0.5;// run when opening
if(typeof callbacks.onOpen==="function"){callbacks.onOpen()}}else{overlay.style.opacity="0";// run when closing
if(typeof callbacks.onClose==="function"){callbacks.onClose()}}},postfunction:function postfunction(){if(state==="opening"){// Move the focus to the close button
closeButton.focus();// Focus trap enabled
focustrapTop.setAttribute("tabindex",0);focustrapBottom.setAttribute("tabindex",0);focustrapTop.addEventListener("focus",AUfocusTrapListenerTop);focustrapBottom.addEventListener("focus",AUfocusTrapListenerBottom);// Add key listener
document.addEventListener("keyup",AUkeyListener);if(typeof callbacks.afterOpen==="function"){callbacks.afterOpen()}}else{// Move the focus back to the menu button
openButton.focus();// Remove the focus trap
focustrapTop.removeAttribute("tabindex");focustrapBottom.removeAttribute("tabindex");// Remove the event listeners
focustrapTop.removeEventListener("focus",AUfocusTrapListenerTop);focustrapBottom.removeEventListener("focus",AUfocusTrapListenerBottom);// Remove the event listener for the keypress
document.removeEventListener("keyup",AUkeyListener);if(typeof callbacks.afterClose==="function"){callbacks.afterClose()}}// Toggle classes
ToggleClasses(element,state);ToggleClasses(document.body,state,"au-main-nav__scroll--unlocked","au-main-nav__scroll--locked");// Reset inline styles
menu.style.display="";menu.style.left="";overlay.style.display="";overlay.style.left="";overlay.style.opacity="";// Toggle the animating state to false so that we can allow toggling again
ToggleAnimationState()}})})(menu)}},{key:"render",value:function render(){var _this2=this;return _react["default"].createElement("div",{id:this.id,className:"au-main-nav__content",ref:function ref(mainNavContent){_this2.mainNavContent=mainNavContent}},_react["default"].createElement("button",{"aria-controls":this.id,"aria-expanded":this.state.expanded,onClick:function onClick(event){return _this2.toggle(event)},className:"au-main-nav__toggle au-main-nav__toggle--open"},"Menu"),_react["default"].createElement("div",{className:"au-main-nav__menu",ref:function ref(mainNavMenu){_this2.mainNavMenu=mainNavMenu}},_react["default"].createElement("div",{className:"au-main-nav__menu-inner"},_react["default"].createElement("div",{className:"au-main-nav__focus-trap-top"}),_react["default"].createElement("button",{"aria-controls":this.id,"aria-expanded":this.state.expanded,onClick:function onClick(event){return _this2.toggle(event)},className:"au-main-nav__toggle au-main-nav__toggle--close"},"Close"),_react["default"].createElement(AUmainNavMenu,{linkComponent:this.props.linkComponent,items:this.props.items}),this.props.children,_react["default"].createElement("div",{className:"au-main-nav__focus-trap-bottom"}))),_react["default"].createElement("div",{"aria-controls":this.id,ref:function ref(mainNavOverlay){_this2.mainNavOverlay=mainNavOverlay},onClick:function onClick(event){return _this2.toggle(event)},className:"au-main-nav__overlay"}))}}]);return AUmainNavContent}(_react["default"].PureComponent);exports.AUmainNavContent=AUmainNavContent;;AUmainNavContent.propTypes={dark:_propTypes["default"].bool,alt:_propTypes["default"].bool,children:_propTypes["default"].node,speed:_propTypes["default"].number,onOpen:_propTypes["default"].func,afterOpen:_propTypes["default"].func,onClose:_propTypes["default"].func,afterClose:_propTypes["default"].func,className:_propTypes["default"].string};var AUmainNav=function AUmainNav(_ref2){var dark=_ref2.dark,alt=_ref2.alt,className=_ref2.className,ariaLabel=_ref2.ariaLabel,children=_ref2.children,attributeOptions=_objectWithoutProperties(_ref2,["dark","alt","className","ariaLabel","children"]);return _react["default"].createElement("nav",_extends({className:"au-main-nav "+"".concat(dark?" au-main-nav--dark":"")+"".concat(alt?" au-main-nav--alt":"")+"".concat(className?" "+className:""),"aria-label":ariaLabel},attributeOptions),children)};AUmainNav.propTypes={dark:_propTypes["default"].bool,alt:_propTypes["default"].bool,ariaLabel:_propTypes["default"].string,children:_propTypes["default"].node.isRequired};AUmainNav.defaultProps={ariaLabel:"main"};var _default=AUmainNav;exports["default"]=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlYWN0LmVzNS5qcyJdLCJuYW1lcyI6WyJBVW1haW5OYXZNZW51IiwiaXRlbXMiLCJsaW5rQ29tcG9uZW50IiwiR2VuZXJhdGVNZW51IiwibWVudSIsIm1hcCIsIml0ZW0iLCJsaW5rIiwiYWN0aXZlIiwidGV4dCIsImxpIiwiY2xhc3NOYW1lIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiYXJyYXlPZiIsInNoYXBlIiwic3RyaW5nIiwibm9kZSIsImlzUmVxdWlyZWQiLCJjaGlsZHJlbiIsImFycmF5Iiwib25lT2ZUeXBlIiwiZnVuYyIsImRlZmF1bHRQcm9wcyIsIklEdmFsdWUiLCJBVW1haW5OYXZDb250ZW50IiwicHJvcHMiLCJvbk9wZW4iLCJhZnRlck9wZW4iLCJvbkNsb3NlIiwiYWZ0ZXJDbG9zZSIsImF0dHJpYnV0ZU9wdGlvbnMiLCJ0b2dnbGVDbGFzc2VzIiwiYmluZCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJtYWluTmF2VG9nZ2xlIiwidG9nZ2xlIiwidG9nZ2xlQW5pbWF0aW9uU3RhdGUiLCJzZXRTdGF0ZSIsImFuaW1hdGluZyIsInN0YXRlIiwiYXVGb2N1c1RyYXBMaXN0ZW5lclRvcCIsImF1Rm9jdXNUcmFwTGlzdGVuZXJCb3R0b20iLCJhdUtleUxpc3RlbmVyIiwiY2xvc2VkIiwiZXhwYW5kZWQiLCJpZCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJ1bmRlZmluZWQiLCJtYWluTmF2Q29udGVudCIsInNwZWVkIiwiZWxlbWVudCIsIm9wZW5pbmdDbGFzcyIsImNsb3NpbmdDbGFzcyIsIm9sZENsYXNzIiwibmV3Q2xhc3MiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJyZXBsYWNlIiwiUmVnRXhwIiwic3BsaXQiLCJqb2luIiwiYWRkIiwiZm9jdXNDb250ZW50IiwibWFpbk5hdk1lbnUiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiZm9jdXMiLCJvdmVybGF5T3BlbiIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJtYWluTmF2T3ZlcmxheSIsImdldFByb3BlcnR5VmFsdWUiLCJrZXlDb2RlIiwiY2FsbGJhY2tzIiwiY2FuY2VsQnViYmxlIiwic3RvcFByb3BhZ2F0aW9uIiwiZXJyb3IiLCJvdmVybGF5IiwiY2xvc2VCdXR0b24iLCJxdWVyeVNlbGVjdG9yIiwib3BlbkJ1dHRvbiIsImZvY3VzdHJhcFRvcCIsImZvY3VzdHJhcEJvdHRvbSIsIm1lbnVXaWR0aCIsIm9mZnNldFdpZHRoIiwiVG9nZ2xlQ2xhc3NlcyIsIkFVa2V5TGlzdGVuZXIiLCJBVWZvY3VzVHJhcExpc3RlbmVyVG9wIiwiQVVmb2N1c1RyYXBMaXN0ZW5lckJvdHRvbSIsIlRvZ2dsZUFuaW1hdGlvblN0YXRlIiwic3R5bGUiLCJkaXNwbGF5IiwiQVUiLCJhbmltYXRlIiwiVG9nZ2xlIiwicHJvcGVydHkiLCJvcGVuU2l6ZSIsImNsb3NlU2l6ZSIsInByZWZ1bmN0aW9uIiwibGVmdCIsIm9wYWNpdHkiLCJwb3N0ZnVuY3Rpb24iLCJzZXRBdHRyaWJ1dGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZG9jdW1lbnQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYm9keSIsIlJlYWN0IiwiUHVyZUNvbXBvbmVudCIsImRhcmsiLCJib29sIiwiYWx0IiwibnVtYmVyIiwiQVVtYWluTmF2IiwiYXJpYUxhYmVsIl0sIm1hcHBpbmdzIjoieUhBU0Esb0RBQ0EsNkRBRUEsZ0VBR0EsbUVBT0EsNkIsczdGQUdBOzs7OztHQU1BLEdBQU1BLENBQUFBLGFBQWEsQ0FBRyxRQUFoQkEsQ0FBQUEsYUFBZ0IsTUFBOEIsSUFBM0JDLENBQUFBLEtBQTJCLE1BQTNCQSxLQUEyQixDQUFwQkMsYUFBb0IsTUFBcEJBLGFBQW9CLENBQ25EO0FBQ0EsR0FBTUMsQ0FBQUEsWUFBWSxDQUFHLFFBQWZBLENBQUFBLFlBQWUsQ0FBRUYsS0FBRixDQUFhLENBQ2pDLEdBQU1HLENBQUFBLElBQUksQ0FBR0gsS0FB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U0FBUyxDQUFFLE1BRGEsQ0FBekIsQyxhQUllRCxTIiwic291cmNlc0NvbnRlbnQiOlsiLyohIEBnb3YuYXUvbWFpbi1uYXYgdjEuMC44ICovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogbWFpbk5hdiBmdW5jdGlvblxuICpcbiAqIEhvcml6b250YWwgbGlzdCBvZiBsaW5rcyB0byBrZXkgYXJlYXMgb24gdGhlIHdlYnNpdGUuIFVzdWFsbHkgbG9jYXRlZCBpbiB0aGUgaGVhZGVyLlxuICpcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCBBVSBmcm9tICdAZ292LmF1L2FuaW1hdGUnOyAvLyBpbnRlcmRlcGVuZGVuY3kgd2l0aCBvdXIgYW5pbWF0ZSBsaWJcblxuXG5pbXBvcnQgQVVsaW5rTGlzdCBmcm9tICdAZ292LmF1L2xpbmstbGlzdCc7XG4vLyBFUzYgZGVwZW5kZW5jeTogaW1wb3J0IEFVbGlua0xpc3QgZnJvbSAnLi9saW5rLWxpc3QnO1xuXG5cbi8vIFRoZSBmb2xsb3dpbmcgbGluZSB3aWxsIGJlIHJlcGxhY2VkIGF1dG9tYXRpY2FsbHkgd2l0aCBnZW5lcmljIGltcG9ydHMgZm9yIHRoZSBFUzUgcGlwZWxpbmUuXG4vLyBZb3UgY2FuIHNhZmVseSBpZ25vcmUgdGhpcyBiaXQgaWYgeW91IHVzZSB0aGlzIG1vZHVsZSB3aXRoIHBhbmNha2Vcbi8vXG5pbXBvcnQgJy4uL2Nzcy9zdHlsZXMuY3NzJztcblxuXG4vKipcbiAqIEEgbWVudSBpbnNpZGUgdGhlIEFVbWFpbk5hdlxuICpcbiAqIEBwYXJhbSAge2FycmF5fSAgaXRlbXMgICAgICAgICAgICAtIFRoZSBsaW5rcyBpbiBhbiBhcnJheSBjb250YWluaW5nIHRleHQsIGxvY2F0aW9uIGFuZCBhY3RpdmUgc3RhdHVzXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGxpbmtDb21wb25lbnQgICAgLSBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSBsaW5rXG4gKi9cbmNvbnN0IEFVbWFpbk5hdk1lbnUgPSAoeyBpdGVtcywgbGlua0NvbXBvbmVudCB9KSA9PiB7XG5cdC8vIEdlbmVyYXRlIHRoZSBtZW51XG5cdGNvbnN0IEdlbmVyYXRlTWVudSA9ICggaXRlbXMgKSA9PiB7XG5cdFx0Y29uc3QgbWVudSA9IGl0ZW1zLm1hcCggaXRlbSA9PiB7XG5cdFx0XHRjb25zdCBsaW5rID0gIGl0ZW0uYWN0aXZlID8ge1xuXHRcdFx0XHRsaW5rOiBpdGVtLmxpbmssXG5cdFx0XHRcdHRleHQ6IGl0ZW0udGV4dCxcblx0XHRcdFx0J2FyaWEtY3VycmVudCc6ICdwYWdlJyxcblx0XHRcdFx0bGk6IHtcblx0XHRcdFx0XHRjbGFzc05hbWU6ICdhY3RpdmUnLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSA6XG5cdFx0XHR7XG5cdFx0XHRcdGxpbms6IGl0ZW0ubGluayxcblx0XHRcdFx0dGV4dDogaXRlbS50ZXh0LFxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gcmV0dXJuIHRoZSBsaW5rLCBtYXliZSB3aXRoIGNoaWxkcmVuXG5cdFx0XHRyZXR1cm4gbGluaztcblx0XHR9KTtcblxuXHRcdHJldHVybiBtZW51O1xuXHR9XG5cblx0Ly8gQ3JlYXRlIHRoZSBtZW51IHdpdGggY2hpbGRyZW5cblx0cmV0dXJuIChcblx0XHQ8QVVsaW5rTGlzdCBpdGVtcz17IEdlbmVyYXRlTWVudSggaXRlbXMgKSB9IGxpbmtDb21wb25lbnQ9eyBsaW5rQ29tcG9uZW50IH0gLz5cblx0KTtcbn1cblxuXG5BVW1haW5OYXZNZW51LnByb3BUeXBlcyA9IHtcblx0aXRlbXM6IFByb3BUeXBlcy5hcnJheU9mKFxuXHRcdFByb3BUeXBlcy5zaGFwZSh7XG5cdFx0XHRsaW5rOiBQcm9wVHlwZXMuc3RyaW5nLFxuXHRcdFx0dGV4dDogUHJvcFR5cGVzLm5vZGUuaXNSZXF1aXJlZCxcblx0XHRcdGNoaWxkcmVuOiBQcm9wVHlwZXMuYXJyYXksXG5cdFx0fSlcblx0KS5pc1JlcXVpcmVkLFxuXHRsaW5rQ29tcG9uZW50OiBQcm9wVHlwZXMub25lT2ZUeXBlKFsgUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmZ1bmMgXSksXG59O1xuXG5BVW1haW5OYXZNZW51LmRlZmF1bHRQcm9wcyA9IHtcblx0bGlua0NvbXBvbmVudDogJ2EnLFxufTtcblxuXG4vLyBUaGlzIHZhbHVlIGdldHMgaW5jcmVhc2VkIGZvciBlYWNoIG5hdmlnYXRpb24gY29tcG9uZW50XG5sZXQgSUR2YWx1ZSA9IDA7XG5cblxuZXhwb3J0IGNsYXNzIEFVbWFpbk5hdkNvbnRlbnQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3IoIHByb3BzICkge1xuXHRcdHN1cGVyKCBwcm9wcyApO1xuXG5cdFx0Y29uc3Qge1xuXHRcdFx0aXRlbXMsXG5cdFx0XHRjbGFzc05hbWUgPSAnJyxcblx0XHRcdGNoaWxkcmVuLFxuXHRcdFx0bGlua0NvbXBvbmVudCxcblx0XHRcdG9uT3Blbixcblx0XHRcdGFmdGVyT3Blbixcblx0XHRcdG9uQ2xvc2UsXG5cdFx0XHRhZnRlckNsb3NlLFxuXHRcdFx0Li4uYXR0cmlidXRlT3B0aW9uc1xuXHRcdH0gPSBwcm9wcztcblxuXHRcdC8vIEZ1bmN0aW9uc1xuXHRcdHRoaXMudG9nZ2xlQ2xhc3NlcyAgICAgICAgPSB0aGlzLnRvZ2dsZUNsYXNzZXMuYmluZCggdGhpcyApO1xuXHRcdHRoaXMucmVtb3ZlQ2xhc3MgICAgICAgICAgPSB0aGlzLnJlbW92ZUNsYXNzLmJpbmQoIHRoaXMgKTtcblx0XHR0aGlzLmFkZENsYXNzICAgICAgICAgICAgID0gdGhpcy5hZGRDbGFzcy5iaW5kKCB0aGlzICk7XG5cdFx0dGhpcy5tYWluTmF2VG9nZ2xlICAgICAgICA9IHRoaXMubWFpbk5hdlRvZ2dsZS5iaW5kKCB0aGlzICk7XG5cdFx0dGhpcy50b2dnbGUgICAgICAgICAgICAgICA9IHRoaXMudG9nZ2xlLmJpbmQoIHRoaXMgKTtcblx0XHR0aGlzLnRvZ2dsZUFuaW1hdGlvblN0YXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHsgYW5pbWF0aW5nOiAhdGhpcy5zdGF0ZS5hbmltYXRpbmcgfSApXG5cdFx0fS5iaW5kKCB0aGlzICk7XG5cblxuXHRcdC8vIEV2ZW50IGxpc3RlbmVyc1xuXHRcdHRoaXMuYXVGb2N1c1RyYXBMaXN0ZW5lclRvcCAgICA9IHRoaXMuYXVGb2N1c1RyYXBMaXN0ZW5lclRvcC5iaW5kKCB0aGlzICk7XG5cdFx0dGhpcy5hdUZvY3VzVHJhcExpc3RlbmVyQm90dG9tID0gdGhpcy5hdUZvY3VzVHJhcExpc3RlbmVyQm90dG9tLmJpbmQoIHRoaXMgKTtcblx0XHR0aGlzLmF1S2V5TGlzdGVuZXIgICAgICAgICAgICAgPSB0aGlzLmF1S2V5TGlzdGVuZXIuYmluZCggdGhpcyApO1xuXG5cblx0XHQvLyBWYXJpYWJsZXNcblx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0Y2xvc2VkOiB0cnVlLFxuXHRcdFx0YW5pbWF0aW5nOiBmYWxzZSxcblx0XHRcdGV4cGFuZGVkOiBmYWxzZVxuXHRcdH07XG5cblxuXHRcdC8vIEluY3JlYXNlIHRoZSBJRCBzbyBpdCdzIHVuaXF1ZSBmb3IgZWFjaCBpbnN0YW5jZVxuXHRcdElEdmFsdWUgKz0gMTtcblx0XHR0aGlzLmlkID0gYGF1LW1haW4tbmF2LSR7IElEdmFsdWUgfWA7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBUb2dnbGUgYW4gbWFpbiBuYXZpZ2F0aW9uIG9uIGNsaWNrXG5cdCAqXG5cdCAqIEBwYXJhbSAge2V2ZW50IG9iamVjdH0gZXZlbnQgLSBUaGUgZXZlbnQgb2JqZWN0IG9mIHRoZSBjbGlja1xuXHQgKi9cblx0dG9nZ2xlKCBldmVudCApIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Ly8gSWYgdGhlIG1haW4gbWVudSBpcyBhbmltYXRpbmcgZG9uJ3QgY2hhbmdlIHRvZ2dsZSB0aGUgbWVudVxuXHRcdGlmKCB0aGlzLnN0YXRlLmFuaW1hdGluZyApe1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFRvZ2dsZSB0aGUgbWVudSdzIGN1cnJlbnQgc3RhdGVcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGNsb3NlZDogIXRoaXMuc3RhdGUuY2xvc2VkLFxuXHRcdFx0ZXhwYW5kZWQ6ICF0aGlzLnN0YXRlLmV4cGFuZGVkLFxuXHRcdFx0YW5pbWF0aW5nOiB0cnVlLFxuXHRcdH0pO1xuXHR9XG5cblxuXHQvKipcblx0ICogY29tcG9uZW50RGlkVXBkYXRlIC0gVXBkYXRlIHRoZSBjb21wb25lbnQgd2hlbiBpdCBjaGFuZ2VzXG5cdCAqXG5cdCAqIEBwYXJhbSB7Kn0gcHJldlByb3BzIC0gVGhlIHByZXZpb3VzIHByb3BlcnR5IHZhbHVlc1xuXHQgKiBAcGFyYW0geyp9IHByZXZTdGF0ZSAtIFRoZSBwcmV2aW91cyBzdGF0ZSB2YWx1ZXNcblx0ICovXG5cdGNvbXBvbmVudERpZFVwZGF0ZSggcHJldlByb3BzLCBwcmV2U3RhdGUgKXtcblx0XHRpZiggcHJldlN0YXRlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc3RhdGUuY2xvc2VkICE9PSBwcmV2U3RhdGUuY2xvc2VkICkge1xuXHRcdFx0dGhpcy5tYWluTmF2VG9nZ2xlKCB0aGlzLm1haW5OYXZDb250ZW50LCB0aGlzLnByb3BzLnNwZWVkLCB7XG5cdFx0XHRcdG9uT3BlbjogdGhpcy5wcm9wcy5vbk9wZW4sXG5cdFx0XHRcdGFmdGVyT3BlbjogdGhpcy5wcm9wcy5hZnRlck9wZW4sXG5cdFx0XHRcdG9uQ2xvc2U6IHRoaXMucHJvcHMub25DbG9zZSxcblx0XHRcdFx0YWZ0ZXJDbG9zZTogdGhpcy5wcm9wcy5hZnRlckNsb3NlLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblxuXHQvKipcblx0ICogSUU4IGNvbXBhdGlibGUgZnVuY3Rpb24gZm9yIHJlcGxhY2luZyBjbGFzc2VzIG9uIGEgRE9NIG5vZGVcblx0ICpcblx0ICogQHBhcmFtICB7b2JqZWN0fSBlbGVtZW50ICAgICAgIC0gVGhlIERPTSBlbGVtZW50IHdlIHdhbnQgdG8gdG9nZ2xlIGNsYXNzZXMgb25cblx0ICogQHBhcmFtICB7c3RyaW5nfSBvcGVuaW5nQ2xhc3MgIC0gVGhlIGZpcnN0Q2xhc3MgeW91IHdhbnQgdG8gdG9nZ2xlIG9uIHRoZSBET00gbm9kZVxuXHQgKiBAcGFyYW0gIHtzdHJpbmd9IGNsb3NpbmdDbGFzcyAgLSBUaGUgc2Vjb25kQ2xhc3MgeW91IHdhbnQgdG8gdG9nZ2xlIG9uIHRoZSBET00gbm9kZVxuXHQgKi9cblx0dG9nZ2xlQ2xhc3NlcyggZWxlbWVudCwgc3RhdGUsIG9wZW5pbmdDbGFzcywgY2xvc2luZ0NsYXNzICkge1xuXHRcdGlmKCBzdGF0ZSA9PT0gJ29wZW5pbmcnIHx8IHN0YXRlID09PSAnb3BlbicgKSB7XG5cdFx0XHR2YXIgb2xkQ2xhc3MgPSBvcGVuaW5nQ2xhc3MgfHwgJ2F1LW1haW4tbmF2X19jb250ZW50LS1jbG9zZWQnO1xuXHRcdFx0dmFyIG5ld0NsYXNzID0gY2xvc2luZ0NsYXNzIHx8ICdhdS1tYWluLW5hdl9fY29udGVudC0tb3Blbic7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0dmFyIG9sZENsYXNzID0gY2xvc2luZ0NsYXNzIHx8ICdhdS1tYWluLW5hdl9fY29udGVudC0tb3Blbic7XG5cdFx0XHR2YXIgbmV3Q2xhc3MgPSBvcGVuaW5nQ2xhc3MgfHwgJ2F1LW1haW4tbmF2X19jb250ZW50LS1jbG9zZWQnO1xuXHRcdH1cblxuXHRcdHRoaXMucmVtb3ZlQ2xhc3MoIGVsZW1lbnQsIG9sZENsYXNzICk7XG5cdFx0dGhpcy5hZGRDbGFzcyggZWxlbWVudCwgbmV3Q2xhc3MgKTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIElFOCBjb21wYXRpYmxlIGZ1bmN0aW9uIGZvciByZW1vdmluZyBhIGNsYXNzXG5cdCAqXG5cdCAqIEBwYXJhbSAge29iamVjdH0gZWxlbWVudCAgIC0gVGhlIERPTSBlbGVtZW50IHdlIHdhbnQgdG8gbWFuaXB1bGF0ZVxuXHQgKiBAcGFyYW0gIHtvYmplY3R9IGNsYXNzTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjbGFzcyB0byBiZSByZW1vdmVkXG5cdCAqL1xuXHRyZW1vdmVDbGFzcyggZWxlbWVudCwgY2xhc3NOYW1lICkge1xuXHRcdGlmKCBlbGVtZW50LmNsYXNzTGlzdCApIHtcblx0XHRcdGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggY2xhc3NOYW1lICk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0ZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKCBuZXcgUmVnRXhwKFwiKF58XFxcXGIpXCIgKyBjbGFzc05hbWUuc3BsaXQoXCIgXCIpLmpvaW4oXCJ8XCIpICsgXCIoXFxcXGJ8JClcIiwgXCJnaVwiKSwgXCIgXCIgKTtcblx0XHR9XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBJRTggY29tcGF0aWJsZSBmdW5jdGlvbiBmb3IgYWRkaW5nIGEgY2xhc3Ncblx0ICpcblx0ICogQHBhcmFtICB7b2JqZWN0fSBlbGVtZW50ICAgLSBUaGUgRE9NIGVsZW1lbnQgd2Ugd2FudCB0byBtYW5pcHVsYXRlXG5cdCAqIEBwYXJhbSAge29iamVjdH0gY2xhc3NOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGNsYXNzIHRvIGJlIGFkZGVkXG5cdCAqL1xuXHRhZGRDbGFzcyggZWxlbWVudCwgY2xhc3NOYW1lICkge1xuXHRcdGlmKCBlbGVtZW50LmNsYXNzTGlzdCApIHtcblx0XHRcdGVsZW1lbnQuY2xhc3NMaXN0LmFkZCggY2xhc3NOYW1lICk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0ZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZSArIFwiIFwiICsgY2xhc3NOYW1lO1xuXHRcdH1cblx0fVxuXG5cblx0LyoqXG5cdCAqIGF1Rm9jdXNUcmFwTGlzdGVuZXJUb3AgLSBXaGF0IGhhcHBlbnMgd2hlbiB0aGUgZm9jdXMgdHJhcCB0b3AgZ2V0cyBmb2N1c1xuXHQgKlxuXHQgKiBAcGFyYW0ge2V2ZW50fSBldmVudCAtIHRoZSBldmVudFxuXHQgKi9cblx0YXVGb2N1c1RyYXBMaXN0ZW5lclRvcCggZXZlbnQgKSB7XG5cdFx0dmFyIGZvY3VzQ29udGVudCA9IHRoaXMubWFpbk5hdk1lbnUucXVlcnlTZWxlY3RvckFsbCggJ2EsIC5hdS1tYWluLW5hdl9fdG9nZ2xlJyApO1xuXHRcdGZvY3VzQ29udGVudFsgZm9jdXNDb250ZW50Lmxlbmd0aCAtIDEgXS5mb2N1cygpO1xuXHR9XG5cblxuXHQvKipcblx0ICogYXVGb2N1c1RyYXBMaXN0ZW5lckJvdHRvbSAtIFdoYXQgaGFwcGVucyB3aGVuIHRoZSBmb2N1cyB0cmFwIGJvdHRvbSBnZXRzIGZvY3VzXG5cdCAqXG5cdCAqIEBwYXJhbSB7ZXZlbnR9IGV2ZW50IC0gdGhlIGV2ZW50XG5cdCAqL1xuXHRhdUZvY3VzVHJhcExpc3RlbmVyQm90dG9tKCBldmVudCApIHtcblx0XHR2YXIgZm9jdXNDb250ZW50ID0gdGhpcy5tYWluTmF2TWVudS5xdWVyeVNlbGVjdG9yQWxsKCAnYSwgLmF1LW1haW4tbmF2X190b2dnbGUnICk7XG5cdFx0Zm9jdXNDb250ZW50WyAwIF0uZm9jdXMoKTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIGF1S2V5TGlzdGVuZXIgLSBXaGF0IGhhcHBlbnMgd2hlbiBhIGtleSBnZXRzIHByZXNzZWQgYW5kIHRoZSBtZW51IGlzIG9wZW5cblx0ICpcblx0ICogQHBhcmFtIHtldmVudH0gZXZlbnQgLSB0aGUgZXZlbnRcblx0ICovXG5cdGF1S2V5TGlzdGVuZXIoIGV2ZW50ICkge1xuXHRcdC8vIFRoaXMgc2hvdWxkIG9ubHkgY2xvc2UgdGhlIG1lbnUgd2hlbiB0aGUgbWVudSBpcyB2aXNpYmx5IG9wZW5cblx0XHR2YXIgb3ZlcmxheU9wZW4gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggdGhpcy5tYWluTmF2T3ZlcmxheSApLmdldFByb3BlcnR5VmFsdWUoICdkaXNwbGF5JyApO1xuXG5cdFx0Ly8gQ2hlY2sgdGhlIG1lbnUgaXMgb3BlbiBhbmQgdmlzaWJsZSBhbmQgdGhlIGVzY2FwZSBrZXkgaXMgcHJlc3NlZFxuXHRcdGlmKCBldmVudC5rZXlDb2RlID09PSAyNyAmJiBvdmVybGF5T3BlbiA9PT0gJ2Jsb2NrJyApIHtcblx0XHRcdHRoaXMudG9nZ2xlKCBldmVudCApO1xuXHRcdH1cblx0fVxuXG5cblx0LyoqXG5cdCAqIFRvZ2dsZSBhIG1haW5OYXYgZWxlbWVudFxuXHQgKlxuXHQgKiBAcGFyYW0gIHtzdHJpbmd9ICBlbGVtZW50ICAtIFRoZSB0b2dnbGUgZm9yIHRoZSBtYWluIG5hdlxuXHQgKiBAcGFyYW0gIHtpbnRlZ2VyfSBzcGVlZCAgICAtIFRoZSBzcGVlZCBpbiBtcyBmb3IgdGhlIGFuaW1hdGlvblxuXHQgKlxuXHQgKi9cblx0bWFpbk5hdlRvZ2dsZSggZWxlbWVudCwgc3BlZWQsIGNhbGxiYWNrcyApIHtcblx0XHQvLyBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uXG5cdFx0dHJ5IHtcblx0XHRcdHdpbmRvdy5ldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHRcdGNhdGNoKCBlcnJvciApIHt9XG5cblx0XHQvLyBjaGVjayB0aGlzIG9uY2Vcblx0XHRpZiggdHlwZW9mIGNhbGxiYWNrcyAhPSAnb2JqZWN0JyApIHtcblx0XHRcdGNhbGxiYWNrcyA9IHt9O1xuXHRcdH1cblxuXG5cdFx0Ly8gRWxlbWVudHMgd2UgbW9kaWZ5XG5cdFx0dmFyIG1lbnUgICAgICAgICAgICA9IHRoaXMubWFpbk5hdk1lbnU7XG5cdFx0dmFyIG92ZXJsYXkgICAgICAgICA9IHRoaXMubWFpbk5hdk92ZXJsYXk7XG5cdFx0dmFyIGNsb3NlQnV0dG9uICAgICA9IGVsZW1lbnQucXVlcnlTZWxlY3RvciggJy5hdS1tYWluLW5hdl9fdG9nZ2xlLS1jbG9zZScgKTtcblx0XHR2YXIgb3BlbkJ1dHRvbiAgICAgID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCAnLmF1LW1haW4tbmF2X190b2dnbGUtLW9wZW4nICk7XG5cdFx0dmFyIGZvY3VzdHJhcFRvcCAgICA9IGVsZW1lbnQucXVlcnlTZWxlY3RvciggJy5hdS1tYWluLW5hdl9fZm9jdXMtdHJhcC10b3AnICk7XG5cdFx0dmFyIGZvY3VzdHJhcEJvdHRvbSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvciggJy5hdS1tYWluLW5hdl9fZm9jdXMtdHJhcC1ib3R0b20nICk7XG5cblx0XHR2YXIgY2xvc2VkICAgICAgICAgID0gIXRoaXMuc3RhdGUuY2xvc2VkO1xuXHRcdHZhciBzdGF0ZSAgICAgICAgICAgPSBjbG9zZWQgPyAnb3BlbmluZycgOiAnJztcblx0XHR2YXIgbWVudVdpZHRoICAgICAgID0gbWVudS5vZmZzZXRXaWR0aDtcblxuXG5cdFx0Ly8gRnVuY3Rpb25zXG5cdFx0dmFyIFRvZ2dsZUNsYXNzZXMgICAgICAgICAgICAgPSB0aGlzLnRvZ2dsZUNsYXNzZXM7XG5cdFx0dmFyIEFVa2V5TGlzdGVuZXIgICAgICAgICAgICAgPSB0aGlzLmF1S2V5TGlzdGVuZXI7XG5cdFx0dmFyIEFVZm9jdXNUcmFwTGlzdGVuZXJUb3AgICAgPSB0aGlzLmF1Rm9jdXNUcmFwTGlzdGVuZXJUb3A7XG5cdFx0dmFyIEFVZm9jdXNUcmFwTGlzdGVuZXJCb3R0b20gPSB0aGlzLmF1Rm9jdXNUcmFwTGlzdGVuZXJCb3R0b207XG5cdFx0dmFyIFRvZ2dsZUFuaW1hdGlvblN0YXRlICAgICAgPSB0aGlzLnRvZ2dsZUFuaW1hdGlvblN0YXRlO1xuXG5cblx0XHRvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG5cblx0XHQoZnVuY3Rpb24oIG1lbnUgKSB7XG5cdFx0XHRBVS5hbmltYXRlLlRvZ2dsZSh7XG5cdFx0XHRcdGVsZW1lbnQ6IG1lbnUsXG5cdFx0XHRcdHByb3BlcnR5OiAnbGVmdCcsXG5cdFx0XHRcdG9wZW5TaXplOiAwLFxuXHRcdFx0XHRjbG9zZVNpemU6IC0xICogbWVudVdpZHRoLFxuXHRcdFx0XHRzcGVlZDogc3BlZWQgfHwgMjUwLFxuXHRcdFx0XHRwcmVmdW5jdGlvbjogZnVuY3Rpb24oICkge1xuXHRcdFx0XHRcdC8vIFNldCB0aGVzZSB2YWx1ZSBpbW1lZGlhdGVseSBmb3IgdHJhbnNpdGlvbnNcblx0XHRcdFx0XHRpZiggc3RhdGUgPT09ICdvcGVuaW5nJyApIHtcblx0XHRcdFx0XHRcdG1lbnUuc3R5bGUuZGlzcGxheSAgICA9ICdibG9jayc7XG5cdFx0XHRcdFx0XHRvdmVybGF5LnN0eWxlLmxlZnQgICAgPSAwO1xuXHRcdFx0XHRcdFx0b3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gMC41O1xuXG5cdFx0XHRcdFx0XHQvLyBydW4gd2hlbiBvcGVuaW5nXG5cdFx0XHRcdFx0XHRpZiggdHlwZW9mIGNhbGxiYWNrcy5vbk9wZW4gPT09ICdmdW5jdGlvbicgKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrcy5vbk9wZW4oKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRvdmVybGF5LnN0eWxlLm9wYWNpdHkgPSAnMCc7XG5cblx0XHRcdFx0XHRcdC8vIHJ1biB3aGVuIGNsb3Npbmdcblx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgY2FsbGJhY2tzLm9uQ2xvc2UgPT09ICdmdW5jdGlvbicgKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrcy5vbkNsb3NlKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRwb3N0ZnVuY3Rpb246IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0aWYgKCBzdGF0ZSA9PT0gJ29wZW5pbmcnICl7XG5cblx0XHRcdFx0XHRcdC8vIE1vdmUgdGhlIGZvY3VzIHRvIHRoZSBjbG9zZSBidXR0b25cblx0XHRcdFx0XHRcdGNsb3NlQnV0dG9uLmZvY3VzKCk7XG5cblxuXHRcdFx0XHRcdFx0Ly8gRm9jdXMgdHJhcCBlbmFibGVkXG5cdFx0XHRcdFx0XHRmb2N1c3RyYXBUb3Auc2V0QXR0cmlidXRlKCBcInRhYmluZGV4XCIsIDAgKTtcblx0XHRcdFx0XHRcdGZvY3VzdHJhcEJvdHRvbS5zZXRBdHRyaWJ1dGUoIFwidGFiaW5kZXhcIiwgMCApO1xuXG5cblx0XHRcdFx0XHRcdGZvY3VzdHJhcFRvcC5hZGRFdmVudExpc3RlbmVyKCAnZm9jdXMnLCBBVWZvY3VzVHJhcExpc3RlbmVyVG9wICk7XG5cdFx0XHRcdFx0XHRmb2N1c3RyYXBCb3R0b20uYWRkRXZlbnRMaXN0ZW5lciggJ2ZvY3VzJywgQVVmb2N1c1RyYXBMaXN0ZW5lckJvdHRvbSApO1xuXG5cdFx0XHRcdFx0XHQvLyBBZGQga2V5IGxpc3RlbmVyXG5cdFx0XHRcdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAna2V5dXAnLCBBVWtleUxpc3RlbmVyICk7XG5cblx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgY2FsbGJhY2tzLmFmdGVyT3BlbiA9PT0gJ2Z1bmN0aW9uJyApIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLmFmdGVyT3BlbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdC8vIE1vdmUgdGhlIGZvY3VzIGJhY2sgdG8gdGhlIG1lbnUgYnV0dG9uXG5cdFx0XHRcdFx0XHRvcGVuQnV0dG9uLmZvY3VzKCk7XG5cblx0XHRcdFx0XHRcdC8vIFJlbW92ZSB0aGUgZm9jdXMgdHJhcFxuXHRcdFx0XHRcdFx0Zm9jdXN0cmFwVG9wLnJlbW92ZUF0dHJpYnV0ZSggXCJ0YWJpbmRleFwiICk7XG5cdFx0XHRcdFx0XHRmb2N1c3RyYXBCb3R0b20ucmVtb3ZlQXR0cmlidXRlKCBcInRhYmluZGV4XCIgKTtcblxuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyc1xuXHRcdFx0XHRcdFx0Zm9jdXN0cmFwVG9wLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdmb2N1cycsIEFVZm9jdXNUcmFwTGlzdGVuZXJUb3AgKTtcblx0XHRcdFx0XHRcdGZvY3VzdHJhcEJvdHRvbS5yZW1vdmVFdmVudExpc3RlbmVyKCAnZm9jdXMnLCBBVWZvY3VzVHJhcExpc3RlbmVyQm90dG9tICk7XG5cblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciBmb3IgdGhlIGtleXByZXNzXG5cdFx0XHRcdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAna2V5dXAnLCBBVWtleUxpc3RlbmVyICk7XG5cblx0XHRcdFx0XHRcdGlmKCB0eXBlb2YgY2FsbGJhY2tzLmFmdGVyQ2xvc2UgPT09ICdmdW5jdGlvbicgKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrcy5hZnRlckNsb3NlKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cblx0XHRcdFx0XHQvLyBUb2dnbGUgY2xhc3Nlc1xuXHRcdFx0XHRcdFRvZ2dsZUNsYXNzZXMoIGVsZW1lbnQsIHN0YXRlICk7XG5cdFx0XHRcdFx0VG9nZ2xlQ2xhc3Nlcyhcblx0XHRcdFx0XHRcdGRvY3VtZW50LmJvZHksXG5cdFx0XHRcdFx0XHRzdGF0ZSxcblx0XHRcdFx0XHRcdCdhdS1tYWluLW5hdl9fc2Nyb2xsLS11bmxvY2tlZCcsXG5cdFx0XHRcdFx0XHQnYXUtbWFpbi1uYXZfX3Njcm9sbC0tbG9ja2VkJyxcblx0XHRcdFx0XHQpO1xuXG5cblx0XHRcdFx0XHQvLyBSZXNldCBpbmxpbmUgc3R5bGVzXG5cdFx0XHRcdFx0bWVudS5zdHlsZS5kaXNwbGF5ICAgID0gJyc7XG5cdFx0XHRcdFx0bWVudS5zdHlsZS5sZWZ0ICAgICAgID0gJyc7XG5cdFx0XHRcdFx0b3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cdFx0XHRcdFx0b3ZlcmxheS5zdHlsZS5sZWZ0ICAgID0gJyc7XG5cdFx0XHRcdFx0b3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gJyc7XG5cblxuXHRcdFx0XHRcdC8vIFRvZ2dsZSB0aGUgYW5pbWF0aW5nIHN0YXRlIHRvIGZhbHNlIHNvIHRoYXQgd2UgY2FuIGFsbG93IHRvZ2dsaW5nIGFnYWluXG5cdFx0XHRcdFx0VG9nZ2xlQW5pbWF0aW9uU3RhdGUoKTtcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXHRcdH0pKCBtZW51ICk7XG5cdH1cblxuXG5cdHJlbmRlcigpe1xuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZGl2XG5cdFx0XHRcdGlkPXsgdGhpcy5pZCB9XG5cdFx0XHRcdGNsYXNzTmFtZT1cImF1LW1haW4tbmF2X19jb250ZW50XCJcblx0XHRcdFx0cmVmPXsgbWFpbk5hdkNvbnRlbnQgPT4geyB0aGlzLm1haW5OYXZDb250ZW50ID0gbWFpbk5hdkNvbnRlbnQgfX0+XG5cdFx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdFx0YXJpYS1jb250cm9scz17IHRoaXMuaWQgfVxuXHRcdFx0XHRcdFx0YXJpYS1leHBhbmRlZD17dGhpcy5zdGF0ZS5leHBhbmRlZH1cblx0XHRcdFx0XHRcdG9uQ2xpY2s9eyAoIGV2ZW50ICkgPT4gdGhpcy50b2dnbGUoIGV2ZW50ICkgfVxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYXUtbWFpbi1uYXZfX3RvZ2dsZSBhdS1tYWluLW5hdl9fdG9nZ2xlLS1vcGVuXCI+XG5cdFx0XHRcdFx0XHRNZW51XG5cdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdDxkaXZcblx0XHRcdFx0XHRjbGFzc05hbWU9XCJhdS1tYWluLW5hdl9fbWVudVwiXG5cdFx0XHRcdFx0cmVmPXsgbWFpbk5hdk1lbnUgPT4geyB0aGlzLm1haW5OYXZNZW51ID0gbWFpbk5hdk1lbnUgfX1cblx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJhdS1tYWluLW5hdl9fbWVudS1pbm5lclwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJhdS1tYWluLW5hdl9fZm9jdXMtdHJhcC10b3BcIj48L2Rpdj5cblx0XHRcdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRcdFx0YXJpYS1jb250cm9scz17IHRoaXMuaWQgfVxuXHRcdFx0XHRcdFx0XHRhcmlhLWV4cGFuZGVkPXt0aGlzLnN0YXRlLmV4cGFuZGVkfVxuXHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsgKCBldmVudCApID0+IHRoaXMudG9nZ2xlKCBldmVudCApIH1cblx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwiYXUtbWFpbi1uYXZfX3RvZ2dsZSBhdS1tYWluLW5hdl9fdG9nZ2xlLS1jbG9zZVwiPlxuXHRcdFx0XHRcdFx0XHRDbG9zZVxuXHRcdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0XHQ8QVVtYWluTmF2TWVudVxuXHRcdFx0XHRcdFx0XHRsaW5rQ29tcG9uZW50PXsgdGhpcy5wcm9wcy5saW5rQ29tcG9uZW50IH1cblx0XHRcdFx0XHRcdFx0aXRlbXM9eyB0aGlzLnByb3BzLml0ZW1zIH1cblx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHR7IHRoaXMucHJvcHMuY2hpbGRyZW4gfVxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJhdS1tYWluLW5hdl9fZm9jdXMtdHJhcC1ib3R0b21cIj48L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXZcblx0XHRcdFx0XHRhcmlhLWNvbnRyb2xzPXsgdGhpcy5pZCB9XG5cdFx0XHRcdFx0cmVmPXsgbWFpbk5hdk92ZXJsYXkgPT4geyB0aGlzLm1haW5OYXZPdmVybGF5ID0gbWFpbk5hdk92ZXJsYXkgfX1cblx0XHRcdFx0XHRvbkNsaWNrPXsgKCBldmVudCApID0+IHRoaXMudG9nZ2xlKCBldmVudCApIH1cblx0XHRcdFx0XHRjbGFzc05hbWU9XCJhdS1tYWluLW5hdl9fb3ZlcmxheVwiPjwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxufTtcblxuQVVtYWluTmF2Q29udGVudC5wcm9wVHlwZXMgPSB7XG5cdGRhcms6IFByb3BUeXBlcy5ib29sLFxuXHRhbHQ6IFByb3BUeXBlcy5ib29sLFxuXHRjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG5cdHNwZWVkOiBQcm9wVHlwZXMubnVtYmVyLFxuXHRvbk9wZW46IFByb3BUeXBlcy5mdW5jLFxuXHRhZnRlck9wZW46IFByb3BUeXBlcy5mdW5jLFxuXHRvbkNsb3NlOiBQcm9wVHlwZXMuZnVuYyxcblx0YWZ0ZXJDbG9zZTogUHJvcFR5cGVzLmZ1bmMsXG5cdGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbn07XG5cblxuY29uc3QgQVVtYWluTmF2ID0gKHsgZGFyaywgYWx0LCBjbGFzc05hbWUsIGFyaWFMYWJlbCwgY2hpbGRyZW4sIC4uLmF0dHJpYnV0ZU9wdGlvbnMgfSkgPT4gKFxuXHQ8bmF2XG5cdFx0Y2xhc3NOYW1lPXtcblx0XHRcdCdhdS1tYWluLW5hdiAnICtcblx0XHRcdGAkeyBkYXJrID8gJyBhdS1tYWluLW5hdi0tZGFyaycgOiAnJyB9YCArXG5cdFx0XHRgJHsgYWx0ID8gJyBhdS1tYWluLW5hdi0tYWx0JyA6ICcnIH1gICtcblx0XHRcdGAkeyBjbGFzc05hbWUgPyAnICcgKyBjbGFzc05hbWUgOiAnJyB9YFxuXHRcdH1cblx0XHRhcmlhLWxhYmVsID0geyBhcmlhTGFiZWwgfVxuXHRcdHsgLi4uYXR0cmlidXRlT3B0aW9ucyB9XG5cdD5cblx0XHR7IGNoaWxkcmVuIH1cblx0PC9uYXY+XG4pO1xuXG5BVW1haW5OYXYucHJvcFR5cGVzID0ge1xuXHRkYXJrOiBQcm9wVHlwZXMuYm9vbCxcblx0YWx0OiBQcm9wVHlwZXMuYm9vbCxcblx0YXJpYUxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxuXHRjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUuaXNSZXF1aXJlZCxcbn07XG5cbkFVbWFpbk5hdi5kZWZhdWx0UHJvcHMgPSB7XG5cdGFyaWFMYWJlbDogJ21haW4nLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQVVtYWluTmF2O1xuIl19